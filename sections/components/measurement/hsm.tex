\subsubsection{HSM Shapes}
\label{sec:hsm}

The \texttt{meas\_extensions\_shapeHSM} package contains the plugins to measure the shapes of objects.
The plugins measure the moments of the sources and PSFs with adaptive Gaussian weights.
The algorithm was initially described in \citet{2003MNRAS.343..459H} and was modified later in \citet{2005MNRAS.361.1287M}.
The implementation of these algorithms lives within the \texttt{hsm} module of the \textsc{GalSim} package \citep{2015A&C....10..121R}.

There are numerous plugins for measuring the moments, for example to use circular Gaussian weights instead of elliptical ones, or to add noise to the PSF image to match the SNR of the source image.
This makes the ellipticity calculated from this plugin have the same bias as the source ellipticity.
The PSF moments from this plugin should be used when calculating ellipticity residuals so the bias is largely cancelled.
Having the various specializations as distinct plugins allows an object to be measured under different configurations simultaneously and included in the output catalogs.

In addition to the plugins that measure (adaptive) weighted moments, there are also a series of plugins to estimate the PSF-corrected ellipticities of objects.
In particular, the outputs from one of these algorithms have been used to measure weak gravitational lensing signals in the Hyper Suprime-Cam SSP data \citep{2018PASJ...70S..25M, 2022PASJ...74..421L}.

In addition to the second moments that characterize the size and ellipticity of the PSF, higher-order moments \textemdash\ those beyond second order \textemdash\ capture more subtle aspects of the PSF shape, such as skewness, kurtosis, and other asymmetric or non-Gaussian features.
The definitions of the higher moments are given in \citet{2023MNRAS.520.2328Z}.
